use Std

def collatz = \l, n ->
    if n == 1 then 1 :: l else
    collatz (n :: l) (
        put (n == 2 * n / 2)
        | True -> (n / 2)
        | False -> (1 + 3*n))

def main = reverse $ collatz [] 42
